(this.webpackJsonpempasoft=this.webpackJsonpempasoft||[]).push([[0],[,,,,,,function(e,t,n){e.exports=n(15)},,,,,function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(5),u=n.n(c),s=(n(11),n(1)),o=(n(12),n(2)),l=n.n(o),i=n(3),p=function(e){var t=e.token,n=Object(a.useState)([]),c=Object(s.a)(n,2),u=c[0],o=c[1],p=Object(a.useState)(""),m=Object(s.a)(p,2),f=(m[0],m[1]),b=Object(a.useState)(""),h=Object(s.a)(b,2),d=h[0],j=h[1];function v(){return(v=Object(i.a)(l.a.mark((function e(){var n,a,r,c=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>0&&void 0!==c[0]?c[0]:"",e.next=3,fetch(n,{headers:{"Content-Type":"application/json",Authorization:"Token ".concat(t)}});case 3:return a=e.sent,e.next=6,a.json();case 6:return r=e.sent,console.log(r),e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(a.useEffect)((function(){(function(){return v.apply(this,arguments)})("http://emphasoft-test-assignment.herokuapp.com/api/v1/users/").then((function(e){return o(e)})).catch((function(e){return f(e.message)}))}),[t]);var O=u.length&&u.filter((function(e){return e.username.toLowerCase().includes(d)})),E=d?O:u;return console.log(E,"data"),r.a.createElement("div",{className:"User"},r.a.createElement("input",{onChange:function(e){return function(e){j(e.target.value)}(e)}}),r.a.createElement("ul",null,E.sort((function(e,t){return e.id-t.id})).map((function(e){return r.a.createElement("li",{key:e.id},r.a.createElement("span",null,"User Name: ",e.username))}))))},m=(n(14),function(e){var t=e.setAuthorized,n=e.token,c=e.setToken,u=Object(a.useRef)(!0),o=Object(a.useState)(!0),p=Object(s.a)(o,2),m=p[0],f=p[1],b=Object(a.useState)(null),h=Object(s.a)(b,2),d=h[0],j=h[1],v=Object(a.useState)(null),O=Object(s.a)(v,2),E=O[0],g=O[1],k=Object(a.useState)(""),S=Object(s.a)(k,2),y=S[0],N=S[1],w=Object(a.useState)(""),x=Object(s.a)(w,2),C=x[0],T=x[1];function A(){return(A=Object(i.a)(l.a.mark((function e(){var t,n,a,r=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"",n=r.length>1&&void 0!==r[1]?r[1]:{},e.next=4,fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 4:return a=e.sent,e.next=7,a.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(a.useEffect)((function(){(function(){return A.apply(this,arguments)})("http://emphasoft-test-assignment.herokuapp.com/api-token-auth/",{username:y,password:C}).then((function(e){c(e.token),console.log(e.token)})),u.current?u.current=!1:f(z())}),[C,y]);var z=function(){return""===y?(j("\u0418\u043c\u044f \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e"),!0):""===C?(g("\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u0432\u0432\u0435\u0434\u0435\u043d"),!0):(j(null)||g(null),!1)};return r.a.createElement("div",null,r.a.createElement("form",{className:"form"},r.a.createElement("div",{className:"form__input"},r.a.createElement("div",{className:"input"},r.a.createElement("label",null,r.a.createElement("input",{value:y,onChange:function(e){return N(e.target.value)},name:"username",placeholder:"UserName"}))),r.a.createElement("div",{className:"input"},r.a.createElement("label",null,r.a.createElement("input",{value:C,onChange:function(e){return T(e.target.value)},name:"password",placeholder:"Password"})))),r.a.createElement("button",{type:"submit",disabled:m,onClick:function(e){!function(e){e.preventDefault(),t(n)}(e)},className:"btn"},"  send  "),r.a.createElement("div",{className:"err"},d&&r.a.createElement("p",null,d),E&&r.a.createElement("p",null,E))))}),f=function(){var e=Object(a.useState)(!1),t=Object(s.a)(e,2),n=t[0],c=t[1],u=Object(a.useState)(""),o=Object(s.a)(u,2),l=o[0],i=o[1];return r.a.createElement("div",{className:"App"},n?r.a.createElement(p,{token:l}):r.a.createElement(m,{setAuthorized:c,token:l,setToken:i}))};u.a.render(r.a.createElement(f,null),document.getElementById("root"))}],[[6,1,2]]]);
//# sourceMappingURL=main.f50ebc92.chunk.js.map